{"version":3,"sources":["context/user.js","asset/logo.png","LoadingSpinner.js","Navbar.js","context/post.js","posts/PostMeta.js","asset/comment.png","posts/PostCard.js","context/error.js","Home.js","Login.js","Signup.js","posts/PostList.js","comments/CommentForm.js","comments/CommentCard.js","LikeButton.js","posts/PostDetails.js","me/MiniaturePostCard.js","me/Profile.js","NotFound.js","posts/PostForm.js","Errors.js","comments/CommentsList.js","posts/PostEdit.js","users/UserList.js","users/UserDetails.js","posts/PostLikes.js","App.js","index.js"],"names":["UserContext","createContext","UserProvider","_ref","children","setLoading","_useState","useState","_useState2","_slicedToArray","users","setUsers","_useState3","_useState4","currentUser","setCurrentUser","_useState5","_useState6","loggedIn","setLoggedIn","_useState7","_useState8","userImage","setUserImage","navigate","useNavigate","useEffect","fetch","then","resp","ok","json","data","login","image","user","_jsx","Provider","value","_objectSpread","logout","addUser","concat","_toConsumableArray","updateUserAddPost","newPost","prevUser","posts","updateUserEditPost","editedPost","map","post","id","updateUserRemovePost","postId","filter","updateUserLikesCount","newLikesCount","likes_count","liked","updateUserUnlikesCount","newUnlikesCount","updateUserProfilePicture","newImageUrl","updateBio","newBio","console","log","bio","LoadingSpinner","className","Navbar","_useContext","useContext","loading","handleLogout","_jsxs","Link","to","src","logo","alt","_Fragment","onClick","PostContext","PostProvider","loadingPosts","setLoadingPosts","setPosts","addPost","addedPost","editPost","updatedPosts","deletePost","addComment","comment","comments","editComment","editedComment","deleteComment","commentId","updatePostLikesCount","username","prevPosts","likes","updatePostUnlikesCount","updatedLikes","like","_like$user","updateUserPostProfilePicture","newProfilePicture","PostMeta","timeAgo","createdAt","currentTime","Date","postTime","timeDifference","Math","abs","seconds","floor","minutes","hours","days","calculateTimeAgo","PostCard","title","content","created_at","menuVisible","setMenuVisible","menuRef","useRef","commentCount","length","singularOrPlural","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","ref","method","ErrorsContext","ErrorsProvider","errors","setErrors","Home","postCards","Login","error","setError","email","password","formData","setFormData","handleChange","_defineProperty","name","onSubmit","preventDefault","headers","body","JSON","stringify","htmlFor","type","onChange","autoComplete","NavLink","Signup","passwordConfirmation","PostList","_useContext2","CommentForm","post_id","setContent","user_id","placeholder","CommentCard","_comment$user","onDelete","onEdit","isEditing","setIsEditing","editedContent","setEditedContent","isMenuVisible","setIsMenuVisible","isOwner","LikeButton","isLiked","setIsLiked","endpoint","like_id","Error","catch","finally","FontAwesomeIcon","icon","faThumbsUp","PostDetails","useParams","parseInt","setPost","selectPost","find","handleEditComment","updatedComment","updatedPost","p","handleDeleteComment","updatedComments","commentCards","newCommentText","newComment","updatedUser","MiniaturePostCard","summary","Profile","activeTab","setActiveTab","likedPosts","setLikedPosts","uploadingImage","setUploadingImage","editingBio","setEditingBio","_useState9","_useState10","setNewBio","filteredLikedPosts","_post$likes","some","faCamera","size","accept","file","files","FormData","append","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","stop","_x","apply","arguments","style","display","disabled","response","NotFound","initialPostFormState","PostForm","postData","setPostData","handleInputChange","_e$target","required","rows","Errors","errorsList","index","CommentList","text","initialPostState","PostEdit","toLocaleString","UserList","userLinks","UserDetails","userId","userProfileImage","setUserProfileImage","userPosts","userLikedPosts","_post$user","handleTabChange","tab","PostLikes","App","Routes","Route","path","element","exact","CommentsList","rootElement","getElementById","createRoot","render","BrowserRouter"],"mappings":"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","file":"static/js/main.f8063429.chunk.js","sourcesContent":["import React, { useState, useEffect, createContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst UserContext = createContext();\n\nfunction UserProvider({ children, setLoading }) {\n  const [users, setUsers] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userImage, setUserImage] = useState(null);\n  const navigate = useNavigate();\n\n  // Get current user\n  useEffect(() => {\n    fetch(\"/me\").then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          login(data);\n          setCurrentUser(data);\n          setUserImage(data.image);\n          setLoading(false);\n        });\n      } else {\n        setLoading(false);\n      }\n    });\n  }, [setLoading, setCurrentUser]);\n\n  // Get all users\n  useEffect(() => {\n    if (loggedIn) {\n      fetch(\"/users\").then((resp) => {\n        if (resp.ok) {\n          resp.json().then((data) => {\n            setUsers(data);\n            setLoading(false);\n          });\n        }\n      });\n    }\n  }, [loggedIn, setLoading]);\n\n  // Login\n  const login = (user) => {\n    setCurrentUser(user);\n    setLoggedIn(true);\n    setUserImage(user.image);\n  };\n\n  // Logout\n  const logout = () => {\n    setCurrentUser(null);\n    setLoggedIn(false);\n\n    navigate(\"/\");\n  };\n\n  // Update currentUser state to ADD a newly created post\n  const updateUserAddPost = (newPost) => {\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      posts: [...prevUser.posts, newPost],\n    }));\n  };\n\n  // Update currentUser state to UPDATE an edited post\n  const updateUserEditPost = (editedPost) => {\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      posts: prevUser.posts.map((post) =>\n        post.id === editedPost.id ? editedPost : post\n      ),\n    }));\n  };\n\n  // Update currentUser state to DELETE a removed post\n  const updateUserRemovePost = (postId) => {\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      posts: prevUser.posts.filter((post) => post.id !== postId),\n    }));\n  };\n\n  // Update currentUser state to increment post's likesCount (like)\n  const updateUserLikesCount = (postId, newLikesCount) => {\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      posts: prevUser.posts.map((post) =>\n        post.id === postId\n          ? {\n              ...post,\n              likes_count: newLikesCount,\n              liked: true,\n            }\n          : post\n      ),\n    }));\n  };\n\n  // Update currentUser state to decrement post's likesCount (unlike)\n  const updateUserUnlikesCount = (postId, newUnlikesCount) => {\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      posts: prevUser.posts.map((post) =>\n        post.id === postId\n          ? {\n              ...post,\n              likes_count: newUnlikesCount,\n              liked: false,\n            }\n          : post\n      ),\n    }));\n  };\n\n  // Update currentUser state with the new profile picture\n  const updateUserProfilePicture = (newImageUrl) => {\n    setUserImage(newImageUrl);\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      image: newImageUrl,\n    }));\n  };\n\n  // Update currentUser state to UPDATE profile bio\n  const updateBio = (newBio) => {\n    console.log(newBio)\n    setCurrentUser((prevUser) => ({\n      ...prevUser,\n      bio: newBio\n    }))\n  };\n\n  // Add user\n  const addUser = (user) => {\n    setUsers([...users, user]);\n  };\n\n  return (\n    <UserContext.Provider\n      value={{\n        loggedIn,\n        currentUser: { ...currentUser, image: userImage },\n        setCurrentUser,\n        users,\n        setUsers,\n        login,\n        logout,\n        addUser,\n        updateUserAddPost,\n        updateUserEditPost,\n        updateUserRemovePost,\n        updateUserLikesCount,\n        updateUserUnlikesCount,\n        updateUserProfilePicture,\n        userImage,\n        updateBio,\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport { UserContext, UserProvider };","export default __webpack_public_path__ + \"static/media/logo.75731c5d.png\";","import React from \"react\";\nimport \"./LoadingSpinner.css\";\n\nconst LoadingSpinner = () => {\n  return (\n    <div className=\"loading-spinner-container\">\n      <div className=\"loading-spinner\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useContext } from \"react\";\nimport { UserContext } from \"./context/user\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./Navbar.css\"; \nimport logo from \"./asset/logo.png\"\nimport LoadingSpinner from \"./LoadingSpinner\";\n\nconst Navbar = () => {\n  const { loggedIn, logout, setCurrentUser, loading } = useContext(UserContext);\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    setCurrentUser(null);\n    navigate(\"/\");\n  };\n\n  const loggedInLinks = () => {\n    return (\n      <>\n        <li>\n          <Link to=\"/posts\">Explore</Link>\n        </li>\n        <li>\n          <Link to=\"/posts/new\">Create Post</Link>\n        </li>\n        <li>\n          <Link to=\"/me\">Profile</Link>\n        </li>\n        <li>\n          <Link to=\"#\">\n            <button className=\"small-button\" onClick={handleLogout}>\n              Logout\n            </button>\n          </Link>\n        </li>\n      </>\n    );\n  };\n\n  const loggedOutLinks = () => {\n    return (\n      <>\n        <li>\n          <Link to=\"/\" className=\"nav-link\">\n            <i className=\"fas fa-home\"></i> Home\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/signup\">Signup</Link>\n        </li>\n        <li>\n          <Link to=\"/login\">Login</Link>\n        </li>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"navbar-container\">\n      <nav>\n        <Link to=\"/\">\n          <img src={logo} alt=\"MedX logo\" />\n        </Link>\n      </nav>\n      <nav className=\"nav-links\">\n        <ul>{loggedIn ? loggedInLinks() : loggedOutLinks()}</ul>\n        {loading && (\n          <div className=\"profile-picture-placeholder\">\n            <LoadingSpinner />{\" \"}\n          </div>\n        )}\n      </nav>\n    </div>\n  );\n};\n\nexport default Navbar;\n\n/*\n`activeClassName is a prop provided by React Router's NavLink component.\n\nLinks by default make get request\n*/\n","import { createContext, useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"./user\";\n\nconst PostContext = createContext([]);\n\nconst PostProvider = ({ children }) => {\n  const [loadingPosts, setLoadingPosts] = useState(true);\n  const [posts, setPosts] = useState([]);\n  const { updateUserLikesCount, updateUserUnlikesCount } =\n    useContext(UserContext);\n\n  useEffect(() => {\n    fetch(\"/posts\").then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          setPosts(data);\n          setLoadingPosts(false);\n        });\n      }\n    });\n  }, []);\n\n  // Add post\n  const addPost = (addedPost) => {\n    setPosts([addedPost, ...posts]);\n  };\n\n  // Edit post\n  const editPost = (editedPost) => {\n    const updatedPosts = posts && posts.map((post) =>\n      post.id === editedPost.id ? editedPost : post\n    );\n    setPosts(updatedPosts);\n  };\n\n  // Delete post\n  const deletePost = (postId) => {\n    const updatedPosts = posts && posts.filter((post) => post.id !== postId);\n    setPosts(updatedPosts);\n  };\n\n  // Add comment\n  const addComment = (comment) => {\n    const updatedPosts = posts && posts.map((post) =>\n      post.id === comment.post.id\n        ? { ...post, comments: [comment, ...post.comments] }\n        : post\n    );\n    setPosts(updatedPosts);\n  };\n\n  // Edit comment\n  const editComment = (editedComment) => {\n    const updatedPosts = posts && posts.map((post) =>\n      post.id === editedComment.post.id\n        ? {\n            ...post,\n            comments: post && post.comments.map((comment) =>\n              comment.id === editedComment.id ? editedComment : comment\n            ),\n          }\n        : post\n    );\n    setPosts(updatedPosts);\n  };\n\n  // Delete comment\n  const deleteComment = (commentId, postId) => {\n    const updatedPosts = posts && posts.map((post) =>\n      post.id === postId\n        ? {\n            ...post,\n            comments: post && post.comments.filter(\n              (comment) => comment.id !== commentId\n            ),\n          }\n        : post\n    );\n    setPosts(updatedPosts);\n  };\n  \n  // Increment likes count \n  const updatePostLikesCount = (postId, newLikesCount, username) => {\n    setPosts((prevPosts) => {\n      return prevPosts.map((post) => {\n        if (post && post.id === postId) {\n          return {\n            ...post,\n            likes_count: newLikesCount,\n            likes: [...post.likes, { user: { username } }],\n          };\n        }\n        return post;\n      });\n    });\n    updateUserLikesCount(postId, newLikesCount);\n  };\n\n  // Decrement likes count \n  const updatePostUnlikesCount = (postId, newUnlikesCount, username) => {\n    setPosts((prevPosts) => {\n      return prevPosts.map((post) => {\n        if (post && post.id === postId) {\n          const updatedLikes =\n            post.likes &&\n            post.likes.filter((like) => like && like.user?.username !== username);\n          return {\n            ...post,\n            likes_count: newUnlikesCount,\n            likes: updatedLikes || [],\n          };\n        }\n        return post;\n      });\n    });\n    updateUserUnlikesCount(postId, newUnlikesCount);\n  };\n\n  // update post's user's profile picture\n  const updateUserPostProfilePicture = (newProfilePicture, currentUser) => {\n    setPosts((prevPosts) => {\n      return prevPosts.map((post) => {\n        if (post.user.id === currentUser.id) {\n          return {\n            ...post,\n            user: {\n              ...post.user,\n              image: newProfilePicture,\n            },\n          };\n        }\n        return post;\n      });\n    });\n  };\n\n  return (\n    <PostContext.Provider\n      value={{\n        posts,\n        setPosts,\n        addPost,\n        editPost,\n        deletePost,\n        addComment,\n        editComment,\n        deleteComment,\n        updatePostLikesCount,\n        updatePostUnlikesCount,\n        updateUserPostProfilePicture,\n        loadingPosts,\n      }}\n    >\n      {children}\n    </PostContext.Provider>\n  );\n};\n\nexport { PostContext, PostProvider };","import React from \"react\";\n\nconst PostMeta = ({ username, createdAt }) => {\n    const calculateTimeAgo = (createdAt) => {\n    const currentTime = new Date();\n    const postTime = new Date(createdAt);\n    const timeDifference = Math.abs(currentTime - postTime);\n\n    const seconds = Math.floor(timeDifference / 1000);\n    const minutes = Math.floor(seconds / 60);\n    const hours = Math.floor(minutes / 60);\n    const days = Math.floor(hours / 24);\n\n    if (days > 0) {\n        return `${days} ${days === 1 ? \"day\" : \"days\"} ago`;\n    } else if (hours > 0) {\n        return `${hours} ${hours === 1 ? \"hour\" : \"hours\"} ago`;\n    } else if (minutes > 0) {\n        return `${minutes} ${minutes === 1 ? \"minute\" : \"minutes\"} ago`;\n    } else {\n        return `${seconds} ${seconds === 1 ? \"second\" : \"seconds\"} ago`;\n    }\n    };\n\n  const timeAgo = calculateTimeAgo(createdAt);\n\n  return (\n    <div className=\"post-card-meta\">\n      <span>Posted by u/{username}</span>{\"  \"}\n      <span>{timeAgo}</span>\n    </div>\n  );\n};\n\nexport default PostMeta;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQwAAAEMBuP1yoAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADuSURBVDiNpdOtTkNBEAXgb9qbgCiW9DUQGH4EBN6CEBIElXVINAKBoo5KZDUPAK8AKN4BAooMZm9yIb3tDZxkxM6ec3J2JhuZ6T+oICLOcYS1jro3TDPzCnYxwyAzdSkMimarh33MMvO9a+zCneGwQjQvI2KEUYv2OjNvm/RqDmmKuxaDz9+NeQYjjFsMLnGzzGBSUvw5wYkFM0BzBip8oVc3MnNSUixDr2ht4h5D9Bu77mO1pYZFs1GTz/CMcTnv4WlBPeI0M0X9FyJijBWsYxvHmfnS5R1NXOADO13E/NzCKw4y86GLsEb89zt/A5uEdee10aPNAAAAAElFTkSuQmCC\"","import React, { useContext, useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../context/user\";\nimport PostMeta from \"./PostMeta\";\nimport \"./PostCard.css\";\nimport { PostContext } from \"../context/post\";\nimport comment from \"../asset/comment.png\"\nimport LoadingSpinner from \"../LoadingSpinner\";\n\nconst PostCard = ({ post }) => {\n  const { currentUser, loggedIn, updateUserRemovePost } =\n    useContext(UserContext);\n  const { deletePost } = useContext(PostContext);\n  const { id, title, user, content, created_at } = post;\n  const [menuVisible, setMenuVisible] = useState(false);\n  const menuRef = useRef(null);\n  const navigate = useNavigate();\n\n  const commentCount = post.comments.length;\n  const singularOrPlural = commentCount === 1 ? \"comment\" : \"comments\";\n\n  const handlePostClick = () => {\n    if (!loggedIn) {\n      navigate(\"/login\");\n    } else {\n      navigate(`/posts/${id}`);\n    }\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (menuRef.current && !menuRef.current.contains(e.target)) {\n        setMenuVisible(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, []);\n\n  const toggleMenu = () => {\n    setMenuVisible(!menuVisible);\n  };\n\n  // EDIT POST => Navigates to post edit\n  const handleEditClick = () => {\n    navigate(`/posts/${post.id}/edit`);\n  };\n\n  // DELETE POST\n  const handleDeleteClick = () => {\n    fetch(`/posts/${post.id}`, {\n      method: \"DELETE\",\n    });\n\n    deletePost(post.id);\n    updateUserRemovePost(post.id);\n  };\n\n  if (!user?.username) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <div className={`post-card ${menuVisible ? \"menu-visible\" : \"\"}`}>\n      <div onClick={handlePostClick}>\n        <h2 className=\"hover-underline-animation\">{title}</h2>\n      </div>\n      <PostMeta username={user.username} createdAt={created_at} />\n      <p className=\"post-card-content\">{content}</p>\n      <div className=\"comment-count-container\">\n        <img src={comment} alt=\"Comment Icon\" className=\"comment-icon\" />{\" \"}\n        {commentCount} {singularOrPlural}\n      </div>\n      {currentUser && currentUser.id === post.user.id && (\n        <div className=\"post-card-actions\">\n          <button className=\"kebab-icon\" onClick={toggleMenu}>\n            <i className=\"fas fa-bars\"></i> {/* Hamburger icon */}\n          </button>\n          <div\n            className={`menu-options ${menuVisible ? \"visible\" : \"\"}`}\n            ref={menuRef}\n          >\n            <button onClick={handleEditClick}>Edit</button>\n            <button onClick={handleDeleteClick}>Delete</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PostCard;","import { createContext, useState } from \"react\";\n\nconst ErrorsContext = createContext({});\n\nconst ErrorsProvider = ({ children }) => {\n    const [errors, setErrors] = useState([]);\n\n    return (\n        <ErrorsContext.Provider value={{ errors, setErrors }}>\n        {children}\n        </ErrorsContext.Provider>\n    );\n};\n\nexport { ErrorsContext, ErrorsProvider };\n","import React, { useContext, useEffect } from \"react\";\nimport { PostContext } from \"./context/post\";\nimport PostCard from \"./posts/PostCard\";\nimport { ErrorsContext } from \"./context/error\";\nimport \"./Home.css\"; \n\nconst Home = () => {\n  const { posts } = useContext(PostContext);\n  const { setErrors } = useContext(ErrorsContext);\n\n  useEffect(() => {\n    setErrors([]);\n  }, [setErrors]);\n\n  const postCards = posts.map((post) => (\n    <PostCard\n      key={post.id}\n      post={post}\n    />\n  ))\n\n  return (\n    <div className=\"home-container\">\n      <h2>Welcome to MedX</h2>\n      <p>Explore health and wellness content from our medical community.</p>\n      <hr />\n      <div className=\"post-list\">\n        {postCards}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { useNavigate, NavLink } from \"react-router-dom\";\nimport { UserContext } from \"./context/user\";\nimport \"./Login.css\";\n\nconst Login = ({ loading }) => {\n  const { login, loggedIn } = useContext(UserContext);\n  const [error, setError] = useState(null);\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const navigate = useNavigate();\n\n  const { email, password } = formData;\n\n  useEffect(() => {\n    if (!loading && loggedIn) {\n      navigate(\"/\");\n    }\n\n    return () => {\n      setError(null);\n    };\n  }, [loading, loggedIn, navigate]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    fetch(\"/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email, password }),\n    }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          login(data);\n          setError(null);\n          navigate(\"/\");\n        });\n      } else {\n        resp.json().then((data) => {\n          setError(data.error); \n        });\n      }\n    });\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"login-form\">\n      <h2>Log In</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            type=\"email\"\n            onChange={handleChange}\n            value={email}\n            name=\"email\"\n            id=\"email\"\n            autoComplete=\"on\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            type=\"password\"\n            onChange={handleChange}\n            value={password}\n            name=\"password\"\n            id=\"password\"\n            autoComplete=\"on\"\n          />\n        </div>\n        <button type=\"submit\">Log In</button>\n      </form>\n      {error && <div className=\"error-container\">{error}</div>}\n      <br />\n      <>\n        <small>\n          <b>Don't have an account? {\"   \"}</b>\n          <u>\n            <NavLink to=\"/signup\">Sign up</NavLink>\n          </u>\n        </small>\n      </>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"./context/user\";\nimport \"./Signup.css\";\nimport { ErrorsContext } from \"./context/error\";\n\nconst Signup = () => {\n  const { login, setCurrentUser, addUser } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorsContext);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    return () => {\n      setErrors([]);\n    };\n  }, [setErrors]);\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\", \n    passwordConfirmation: \"\",\n  });\n\n  const { username, email, password, passwordConfirmation } = formData;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    fetch(\"/signup\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username, email, password, passwordConfirmation }),\n    })\n      .then((resp) => resp.json())\n      .then((data) => {\n        if (data.errors) {\n          setErrors(data.errors);\n        } else {\n          login(data);\n          setCurrentUser(data);\n          addUser(data);\n          navigate(\"/\");\n        }\n      });\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"signup-form\">\n      <h2>Create Account</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">Username:</label>\n          <input\n            type=\"text\"\n            onChange={handleChange}\n            value={username}\n            name=\"username\"\n            id=\"username\"\n            autoComplete=\"off\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            type=\"email\"\n            onChange={handleChange}\n            value={email}\n            name=\"email\"\n            id=\"email\"\n            autoComplete=\"off\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            onChange={handleChange}\n            value={password}\n            autoComplete=\"off\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"passwordConfirmation\">Confirm Password:</label>\n          <input\n            type=\"password\"\n            name=\"passwordConfirmation\"\n            id=\"passwordConfirmation\"\n            onChange={handleChange}\n            value={passwordConfirmation}\n            autoComplete=\"on\"\n          />\n        </div>\n        <button type=\"submit\">Sign Up</button>\n      </form>\n      <br />\n      <>\n        <small>\n          <b>Already have an account? {\"   \"}</b>\n          <u>\n            <NavLink to=\"/login\">Log in</NavLink>\n          </u>\n        </small>\n      </>\n    </div>\n  );\n};\n\nexport default Signup;\n","import React, { useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../context/user\";\nimport { PostContext } from \"../context/post\";\nimport { ErrorsContext } from \"../context/error\";\nimport PostCard from \"./PostCard\";\nimport \"./PostList.css\";\nimport LoadingSpinner from \"../LoadingSpinner\";\n\n// EXPLORE PAGE\nconst PostList = ({ loading }) => {\n  const { loggedIn } = useContext(UserContext);\n  const { posts, deletePost } = useContext(PostContext);\n  const { setErrors } = useContext(ErrorsContext);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!loading && !loggedIn) {\n      navigate(\"/login\");\n    }\n    setErrors([]);\n  }, [loading, loggedIn, navigate, setErrors]);\n\n  const postCards =\n    posts &&\n    posts.map((post) => (\n      <PostCard key={post.id} post={post} deletePost={deletePost} />\n    ));\n\n  if (!posts) return <LoadingSpinner />;\n\n  return (\n    <div className=\"post-list-container\">\n      <h2>Posts </h2>\n      <div className=\"post-list\">{postCards}</div>\n    </div>\n  );\n};\n\nexport default PostList;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { UserContext } from \"../context/user\";\nimport { PostContext } from \"../context/post\";\nimport { ErrorsContext } from \"../context/error\";\nimport \"./CommentForm.css\";\nimport { NavLink } from \"react-router-dom\";\n\nconst CommentForm = ({ post_id }) => {\n  const { currentUser } = useContext(UserContext);\n  const { addComment } = useContext(PostContext);\n  const { setErrors } = useContext(ErrorsContext);\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    setErrors([]);\n  }, [setErrors]);\n\n  // Ensure currentUser exists before accessing its properties\n  const user_id = currentUser ? currentUser.id : null;\n  const username = currentUser ? currentUser.username : \"\";\n\n  const handleCommentChange = (e) => {\n    setContent(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(`/posts/${post_id}/comments`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ content, post_id }),\n    }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          addComment(data);\n        });\n      } else {\n        resp.json().then((data) => {\n          debugger \n          setErrors([\"Comment must be between 1 and 280 characters.\"]);\n        });\n      }\n    });\n\n    setContent(\"\");\n  };\n\n  return (\n    <div className=\"comment-form-container\">\n      <p className=\"comment-form-header\">\n        Comment as{\" \"}\n        <NavLink to={`/users/${user_id}`}>u/{username}</NavLink>\n      </p>\n      <form onSubmit={handleSubmit} className=\"comment-form\">\n        <textarea\n          id=\"content\"\n          name=\"content\"\n          value={content}\n          onChange={handleCommentChange}\n          placeholder=\"What are your thoughts?\"\n          className=\"comment-input\"\n        />\n        <button type=\"submit\" className=\"comment-submit-btn\">\n          Comment\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default CommentForm;\n","import React, { useState, useContext } from \"react\";\nimport { UserContext } from \"../context/user\";\nimport PostMeta from \"../posts/PostMeta\";\nimport \"./CommentCard.css\";\nimport LoadingSpinner from \"../LoadingSpinner\";\n\nconst CommentCard = ({ comment, onDelete, onEdit }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedContent, setEditedContent] = useState(comment.content);\n  const [isMenuVisible, setIsMenuVisible] = useState(false);\n  const { currentUser } = useContext(UserContext);\n\n  if (!comment || !comment.user || !comment.user.id) {\n    return <LoadingSpinner />;\n  };\n\n  const username = comment.user ? comment.user.username : \"\";\n  const id = comment.id || \"\";\n  const isOwner = comment?.user?.id === currentUser?.id;\n\n  const handleEdit = () => {\n    setIsEditing(true);\n    setEditedContent(comment.content);\n  };\n\n  const handleCancelEdit = () => {\n    setIsEditing(false);\n  };\n\n  const handleSaveEdit = () => {\n    // Call the onEdit function passed as a prop with the updated content\n    onEdit(id, editedContent);\n    setIsEditing(false);\n  };\n\n  const handleDelete = () => {\n    // Call the onDelete function passed as a prop with the comment id\n    onDelete(id);\n  };\n\n  const toggleMenu = () => {\n    setIsMenuVisible(!isMenuVisible);\n  };\n\n  return (\n    <div className={`comment-card ${isOwner ? \"owner\" : \"\"}`}>\n      <PostMeta username={username} createdAt={comment.created_at} />\n      {isOwner && (\n        <div className=\"comment-menu\">\n          <button className=\"menu-button\" onClick={toggleMenu}>\n            <b></b>\n          </button>\n          {isMenuVisible && (\n            <div>\n              <button onClick={handleEdit}>Edit</button>\n              <button onClick={handleDelete}>Delete</button>\n            </div>\n          )}\n        </div>\n      )}\n      {isEditing ? (\n        <div>\n          <textarea\n            className=\"comment-textarea\"\n            id=\"editedContent\"\n            name=\"editedContent\"\n            value={editedContent}\n            onChange={(e) => setEditedContent(e.target.value)}\n          />\n          <div className=\"comment-buttons\">\n            <button onClick={handleSaveEdit}>Save</button>\n            <button className=\"cancel\" onClick={handleCancelEdit}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <p>{comment.content}</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommentCard;\n","import React, { useContext, useState } from \"react\";\nimport \"./LikeButton.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faThumbsUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { PostContext } from \"./context/post\";\n\nconst LikeButton = ({ post, username }) => {\n  const { updatePostLikesCount, updatePostUnlikesCount } =\n    useContext(PostContext);\n  const [isLiked, setIsLiked] = useState(post?.liked || false);\n  const [loading, setLoading] = useState(false);\n\n  const handleLikeToggle = () => {\n    if (loading) {\n      return; // Prevent multiple requests while waiting for a response\n    }\n\n    setLoading(true);\n    const endpoint = isLiked\n      ? `/posts/${post.id}/likes/${post.like_id}`\n      : `/posts/${post.id}/likes`;\n\n    const method = isLiked ? \"DELETE\" : \"POST\";\n\n    fetch(endpoint, {\n      method: method,\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then((resp) => {\n        if (resp.ok) {\n          return resp.json();\n        }\n        throw new Error(\"Network response was not ok.\");\n      })\n      .then((data) => {\n        if (isLiked) {\n          updatePostUnlikesCount(post.id, data.likes_count, username);\n        } else {\n          updatePostLikesCount(post.id, data.likes_count, username);\n        }\n        setIsLiked(!isLiked);\n      })\n      .catch((error) => {\n        console.error(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div\n      className={`like-count ${isLiked ? \"liked\" : \"\"}`}\n      onClick={handleLikeToggle}\n    >\n      <FontAwesomeIcon icon={faThumbsUp} className={\"thumbs-up-icon\"} />\n      {isLiked ? \"Liked\" : \"Like\"}: {post?.likes_count}\n    </div>\n  );\n};\n\nexport default LikeButton;","import React, { useContext, useState, useEffect } from \"react\";\nimport { useParams, useNavigate, NavLink } from \"react-router-dom\";\nimport { PostContext } from \"../context/post\";\nimport CommentForm from \"../comments/CommentForm\";\nimport \"./PostDetails.css\";\nimport CommentCard from \"../comments/CommentCard\";\nimport LikeButton from \"../LikeButton\";\nimport comment from \"../asset/comment.png\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport { UserContext } from \"../context/user\";\n\nconst PostDetails = ({ loading }) => {\n  const { posts, setPosts } = useContext(PostContext);\n  const { currentUser, setCurrentUser, loggedIn } = useContext(UserContext);\n  const { id } = useParams();\n  const postId = parseInt(id);\n  const [post, setPost] = useState(null);\n  const navigate = useNavigate();\n  const comments = post?.comments || [];\n  const commentCount = comments.length;\n  const singularOrPlural = commentCount === 1 ? \"comment\" : \"comments\";\n\n  useEffect(() => {\n    if (!loading && !loggedIn) {\n      navigate(\"/login\")\n    }\n\n    const selectPost = posts.find((post) => post.id === postId);\n    setPost(selectPost);\n\n  }, [currentUser, loading, loggedIn, navigate, postId, posts]);\n\n  // EDIT COMMENT\n  const handleEditComment = (commentId, editedContent) => {\n    fetch(`/posts/${post.id}/comments/${commentId}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ content: editedContent }),\n    })\n      .then((resp) => resp.json())\n      .then((updatedComment) => {\n        // Update the post object with the updated comment\n        const updatedPost = {\n          ...post,\n          comments: post.comments.map((comment) =>\n            comment.id === commentId ? updatedComment : comment\n          ),\n        };\n        // Update the posts state with the updated post object\n        const updatedPosts = posts.map((p) =>\n          p.id === postId ? updatedPost : p\n        );\n        setPosts(updatedPosts);\n      });\n  };\n\n  // DELETE COMMENT\n  const handleDeleteComment = (commentId) => {\n    fetch(`/comments/${commentId}`, {\n      method: \"DELETE\",\n    }).then((resp) => {\n      if (resp.ok) {\n        // Filter out the deleted comment from the comments list\n        const updatedComments = post.comments.filter(\n          (comment) => comment.id !== commentId\n        );\n        // Update the post object with the updated comments list\n        const updatedPost = {\n          ...post,\n          comments: updatedComments,\n        };\n        // Update the posts state with the updated post object\n        const updatedPosts = posts.map((p) =>\n          p.id === postId ? updatedPost : p\n        );\n        setPosts(updatedPosts);\n      }\n    });\n  };\n\n  // ADD COMMENT\n  const addComment = (newCommentText) => {\n    fetch(`/posts/${postId}/comments`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ content: newCommentText }),\n    })\n      .then((resp) => resp.json())\n      .then((newComment) => {\n        // Update the post object with the new comment from the response\n        const updatedPost = {\n          ...post,\n          comments: [newComment, ...post.comments],\n        };\n        // Update the posts state with the updated post object\n        const updatedPosts = posts.map((p) =>\n          p.id === postId ? updatedPost : p\n        );\n        setPosts(updatedPosts);\n        // Update currentUser state to reflect new comment\n        const updatedUser = {\n          ...currentUser,\n          comments: [...currentUser.comments, newComment],\n        };\n        setCurrentUser(updatedUser);\n      });\n  };\n\n  // RENDER COMMENT CARDS\n  const commentCards =\n    post &&\n    post.comments.map((comment) => (\n      <div className=\"comment-card\" key={comment.id}>\n        {comment && (\n          <CommentCard\n            key={comment.id}\n            comment={comment}\n            onEdit={handleEditComment}\n            onDelete={handleDeleteComment}\n            currentUser={currentUser}\n          />\n        )}\n      </div>\n    ));\n\n  if (loading || !post) return <LoadingSpinner />;\n\n  return (\n    <div className=\"post-details-container\">\n      <h1 className=\"post-header\">{post.title}</h1>\n      <p className=\"post-author\">\n        Posted by{\" \"}\n        <NavLink to={`/users/${post.user.id}`}>u/{post.user.username}</NavLink>\n      </p>\n      <p className=\"post-content\">{post.content}</p>\n      <div className=\"counts-container\">\n        <p className=\"comment-count\">\n          <img src={comment} alt=\"Comment Icon\" className=\"comment-icon\" />{\" \"}\n          {commentCount} {singularOrPlural}\n        </p>\n        {currentUser && <LikeButton post={post} username={currentUser.username} />}\n      </div>\n\n      <CommentForm onSubmit={addComment} post_id={post.id} />\n      <ul className=\"comments-list\">{commentCards}</ul>\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./MiniaturePostCard.css\"; \n\nconst MiniaturePostCard = ({ id, summary }) => {\n  return (\n    <div className=\"miniature-post-card\">\n      <Link to={`/posts/${id}`}>{summary}</Link>\n    </div>\n  );\n};\n\nexport default MiniaturePostCard;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../context/user\";\nimport { PostContext } from \"../context/post\";\nimport { ErrorsContext } from \"../context/error\";\nimport MiniaturePostCard from \"./MiniaturePostCard\";\nimport LoadingSpinner from \"../LoadingSpinner\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCamera } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./Profile.css\";\n\nconst Profile = ({ loading }) => {\n  const { currentUser, loggedIn, userImage, updateUserProfilePicture, updateBio } =\n    useContext(UserContext);\n  const { posts, loadingPosts, updateUserPostProfilePicture } =\n    useContext(PostContext);\n  const { setErrors } = useContext(ErrorsContext);\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState(\"posts\");\n  const [likedPosts, setLikedPosts] = useState([]);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [editingBio, setEditingBio] = useState(false);\n  const [newBio, setNewBio] = useState(currentUser.bio || \"\");\n\n  // Update user's profile picture\n  const handleUpdateProfilePicture = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const formData = new FormData();\n      formData.append(\"image\", file);\n\n      setUploadingImage(true);\n\n      // Send a request to update the user's profile picture\n      fetch(\"/me/update_image\", {\n        method: \"PUT\",\n        body: formData,\n      })\n        .then((resp) => resp.json())\n        .then(async (data) => {\n          await updateUserProfilePicture(data.image);\n          await updateUserPostProfilePicture(data.image, currentUser);\n          setUploadingImage(false);\n        });\n    }\n  };\n\n  // Update user's profile bio \n  const handleUpdateBio = () => {\n    fetch(\"/me/update_bio\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ bio: newBio }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // Update the user's bio using contextUpdateBio\n        updateBio(data.bio);\n        setEditingBio(false);\n      })\n      .catch((error) => {\n        console.error(\"Error updating bio:\", error);\n      });\n  };\n\n  useEffect(() => {\n    if (!loading && !loggedIn) {\n      navigate(\"/login\");\n    }\n\n    setErrors([]);\n\n    const filteredLikedPosts = posts.filter((post) =>\n      post.likes?.some((like) => like && like.user_id === currentUser.id)\n    );\n    setLikedPosts(filteredLikedPosts);\n  }, [\n    loading,\n    loggedIn,\n    navigate,\n    setErrors,\n    loadingPosts,\n    currentUser,\n    posts,\n  ]);\n\n  if (loading || !currentUser || !currentUser.posts) {\n    return <LoadingSpinner />;\n  };\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"main-content\">\n        <div className=\"tabs\">\n          <button\n            className={activeTab === \"posts\" ? \"active\" : \"\"}\n            onClick={() => setActiveTab(\"posts\")}\n          >\n            Posts\n          </button>\n          <button\n            className={activeTab === \"liked\" ? \"active\" : \"\"}\n            onClick={() => setActiveTab(\"liked\")}\n          >\n            Liked\n          </button>\n        </div>\n        <div className=\"miniature-post-cards\">\n          {activeTab === \"posts\" &&\n            currentUser.posts.map((post) => (\n              <MiniaturePostCard\n                key={post.id}\n                id={post.id}\n                summary={post.summary}\n              />\n            ))}\n          {activeTab === \"liked\" &&\n            likedPosts &&\n            likedPosts.map((post) => (\n              <MiniaturePostCard\n                key={post.id}\n                id={post.id}\n                summary={post.summary}\n              />\n            ))}\n        </div>\n      </div>\n      <div className=\"user-info-container\">\n        <div className=\"avatar\">\n          <label\n            htmlFor=\"profile-picture-input\"\n            className=\"profile-picture-label\"\n          >\n            <div className=\"camera-icon\">\n              <FontAwesomeIcon icon={faCamera} size=\"sm\" />\n            </div>\n            <img\n              src={userImage || \"https://placekitten.com/150/150\"}\n              alt=\"User Avatar\"\n              className=\"profile-picture\"\n            />\n          </label>\n          <input\n            id=\"profile-picture-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleUpdateProfilePicture}\n            style={{ display: \"none\" }}\n            disabled={uploadingImage}\n          />\n          {uploadingImage && <LoadingSpinner />}\n        </div>\n        <div className=\"details\">\n          <h3>{currentUser.username}</h3>\n          <p>\n            <i>{currentUser.email}</i>\n          </p>\n        </div>\n        <div className=\"bio\">\n          <br />\n          {editingBio ? (\n            <form className=\"bio-form\">\n              <textarea\n                className=\"bio-textarea\"\n                value={newBio}\n                onChange={(e) => setNewBio(e.target.value)}\n                placeholder=\"Enter your new bio...\"\n              />\n              <div className=\"button-group\">\n                <button\n                  className=\"small-button\"\n                  type=\"button\"\n                  onClick={handleUpdateBio}\n                >\n                  Save\n                </button>\n                <button\n                  className=\"small-button\"\n                  type=\"button\"\n                  onClick={() => setEditingBio(false)}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          ) : (\n            <p>\n              {currentUser.bio || \"No bio available.\"}{\" \"}\n              <button\n                className=\"small-button\"\n                onClick={() => setEditingBio(true)}\n              >\n                Edit Bio\n              </button>\n            </p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;","import React from \"react\";\nimport \"./NotFound.css\";\n\nconst NotFound = () => {\n  return (\n    <div className=\"not-found\">\n      <h2>404 - Not Found</h2>\n      <p>The page you are looking for does not exist.</p>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React, { useState,useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../context/user\";\nimport { PostContext } from \"../context/post\";\nimport { ErrorsContext } from \"../context/error\";\nimport \"./PostForm.css\";\n\nconst initialPostFormState = {\n  title: \"\",\n  content: \"\",\n};\n\nconst PostForm = () => {\n  const { loggedIn, updateUserAddPost } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorsContext);\n  const { addPost } = useContext(PostContext);\n  const [postData, setPostData] = useState(initialPostFormState);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    setErrors([]);\n\n  }, [setErrors]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setPostData({ ...postData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!loggedIn) {\n      navigate(\"/login\");\n      return;\n    }\n    fetch(\"/posts\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(postData),\n    }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          addPost(data);\n          updateUserAddPost(data);\n          navigate(\"/posts\");\n        });\n      } else {\n        resp.json().then((data) => {\n          setErrors(data.errors);\n        });\n      }\n    });\n  };\n\n  return (\n    <div className=\"post-form-container\">\n      <h2>Create a New Post</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={postData.title}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"content\">Content:</label>\n          <textarea\n            id=\"content\"\n            name=\"content\"\n            value={postData.content}\n            onChange={handleInputChange}\n            rows=\"6\"\n            required\n          />\n        </div>\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default PostForm;\n","import React, { useContext, useEffect } from \"react\";\nimport { ErrorsContext } from \"./context/error\";\nimport \"./Errors.css\"\n\nconst Errors = () => {\n  const { errors, setErrors } = useContext(ErrorsContext);\n\n  useEffect(() => {\n    setErrors([]);\n  }, [setErrors]);\n\n  const errorsList =\n    errors && errors.map((error, index) => <li key={index}>{error}</li>);\n\n  return (\n    <div className=\"errors-container\">\n      <ul className=\"errors-list\">{errorsList}</ul>\n    </div>\n  );\n};\n\nexport default Errors;\n\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport './CommentsList.css'\n\nconst CommentList = ({ comments }) => {\n  return (\n    <ul className=\"comments-list\">\n      {comments.map((comment) => (\n        <li key={comment.id} className=\"comment-card\">\n          <p className=\"comment-text\">\n            Comment by{\" \"}\n            <NavLink to={`/profile/${comment.user.id}`} className=\"user-link\">\n              {comment.user.username}\n            </NavLink>\n            : {comment.text}\n          </p>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default CommentList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { PostContext } from \"../context/post\";\nimport { UserContext } from \"../context/user\";\nimport PostMeta from \"./PostMeta\";\nimport \"./PostEdit.css\";\nimport LoadingSpinner from \"../LoadingSpinner\";\n\nconst initialPostState = {\n  title: \"\",\n  content: \"\",\n};\n\nconst PostEdit = ({ loading }) => {\n  const { loggedIn, currentUser, updateUserEditPost } = useContext(UserContext);\n  const { posts, editPost } = useContext(PostContext);\n  const [formData, setFormData] = useState({...initialPostState});\n  const { id } = useParams();\n  const postId = parseInt(id, 10);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (!loading && !loggedIn) return navigate(\"/login\");\n\n    if (posts.length > 0) {\n      const post = posts.find((post) => post.id === postId);\n      // Check if the logged-in user is the owner of the post\n      if (post.user.id !== currentUser.id) return navigate(`/posts/${postId}`);\n      setFormData({ title: post.title, content: post.content });\n    }\n  }, [posts, loggedIn, currentUser, id, navigate, loading, postId]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((formData) => ({ ...formData, [name]: value }));\n  };\n\n  const handleCancel = () => {\n    navigate(`/posts/${postId}`);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    fetch(`/posts/${postId}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(formData),\n    }).then((resp) => {\n      if (resp.ok) {\n        resp.json().then((data) => {\n          editPost(data);\n          updateUserEditPost(data);\n          navigate(`/posts/${id}`);\n        });\n      }\n    });\n  };\n\n  const post = posts.find((post) => post.id === parseInt(id, 10));\n  const createdAt = new Date(post?.created_at).toLocaleString(); // Convert timestamp to readable date format\n\n  if (posts.length === 0) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <div className=\"post-edit-container\">\n      <PostMeta username={currentUser.username} createdAt={createdAt} />\n      <form className=\"post-edit-form\" onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={formData.title}\n            onChange={handleChange}\n            autoComplete=\"on\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"content\">Content</label>\n          <textarea\n            className=\"content-box\"\n            type=\"text\"\n            name=\"content\"\n            value={formData.content}\n            onChange={handleChange}\n            autoComplete=\"on\"\n          />\n        </div>\n        <div className=\"button-group\">\n          <input type=\"submit\" value=\"Update Post\" />\n          <button type=\"button\" onClick={handleCancel}>\n            Cancel\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PostEdit;\n","import React, { useContext, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { UserContext } from \"../context/user\";\nimport { ErrorsContext } from \"../context/error\";\n\nconst UserList = ({ loading }) => {\n  const navigate = useNavigate();\n  const { users, loggedIn } = useContext(UserContext);\n  const { setErrors } = useContext(ErrorsContext);\n\n  useEffect(() => {\n    if (!loading && !loggedIn) {\n      navigate(\"/login\");\n    }\n\n    setErrors([]);\n\n  }, [loading, loggedIn, navigate, setErrors]);\n\n  const userLinks = users && users.map((user) => (\n    <li key={user.id}>\n      <Link to={`/users/${user.id}`}>{user.username}</Link>\n    </li>\n  ));\n\n  return (\n    <div>\n      <h1>User List</h1>\n      <ul>{userLinks}</ul>\n    </div>\n  );\n};\n\nexport default UserList;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { PostContext } from \"../context/post\";\nimport { UserContext } from \"../context/user\";\nimport \"./UserDetails.css\";\nimport MiniaturePostCard from \"../me/MiniaturePostCard\";\nimport LoadingSpinner from \"../LoadingSpinner\";\n\nconst UserDetails = ({ loading }) => {\n  const navigate = useNavigate();\n  const { users, loggedIn, currentUser } = useContext(UserContext);\n  const { posts } = useContext(PostContext);\n  const { id } = useParams();\n  const userId = parseInt(id);\n  const [activeTab, setActiveTab] = useState(\"posts\");\n  const [userProfileImage, setUserProfileImage] = useState(\"\");\n\n  useEffect(() => {\n    const isCurrentUser = loggedIn && currentUser.id === userId;\n    if (isCurrentUser) {\n      navigate(\"/me\");\n    }\n    const user = users?.find((user) => user.id === userId);\n    if (user) {\n      setUserProfileImage(user.image || \"\");\n    }\n  }, [currentUser.id, loggedIn, navigate, userId, users]);\n\n  if (loading && !users) {\n    return <LoadingSpinner />;\n  }\n\n  const user = users?.find((user) => user.id === userId);\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  // Filter posts made by the specific user\n  const userPosts = posts.filter((post) => post.user.id === userId);\n  const userLikedPosts = posts.filter(\n    (post) =>\n      post.likes.some((like) => like?.user_id === userId) &&\n      post?.user?.id !== userId\n  );\n\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n  };\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"main-content\">\n        <div className=\"tabs\">\n          <button\n            className={activeTab === \"posts\" ? \"active\" : \"\"}\n            onClick={() => handleTabChange(\"posts\")}\n          >\n            Posts\n          </button>\n          <button\n            className={activeTab === \"liked\" ? \"active\" : \"\"}\n            onClick={() => handleTabChange(\"liked\")}\n          >\n            Liked Posts\n          </button>\n        </div>\n        <div className=\"miniature-post-cards\">\n          {activeTab === \"posts\" &&\n            userPosts.map((post) => (\n              <MiniaturePostCard\n                key={post.id}\n                id={post.id}\n                summary={post.summary}\n                image={post.image}\n              />\n            ))}\n          {activeTab === \"liked\" &&\n            userLikedPosts.map((post) => (\n              <MiniaturePostCard\n                key={post.id}\n                id={post.id}\n                summary={post.summary}\n                image={post.image}\n              />\n            ))}\n        </div>\n      </div>\n      <div className=\"user-info-container\">\n        <div className=\"avatar\">\n          <img\n            src={userProfileImage || \"https://placekitten.com/150/150\"}\n            alt=\"User Avatar\"\n          />\n        </div>\n        <div className=\"details\">\n          <h3>{user?.username}</h3>\n          <p>\n            <i>{user?.email}</i>\n          </p>\n          <div className=\"bio\">\n            <p>{user?.bio || \"No bio available.\"}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserDetails;\n","import React from 'react'\n\nconst PostLikes = () => {\n    return (\n        <div>PostLikes</div>\n    )\n}\n\nexport default PostLikes","import React, { useState } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Navbar from \"./Navbar\";\nimport Home from \"./Home\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\nimport PostList from \"./posts/PostList\";\nimport PostDetails from \"./posts/PostDetails\";\nimport Profile from \"./me/Profile\";\nimport NotFound from \"./NotFound\";\nimport PostForm from \"./posts/PostForm\";\nimport { UserProvider } from \"./context/user\";\nimport { PostProvider } from \"./context/post\";\nimport { ErrorsProvider } from \"./context/error\";\nimport Errors from \"./Errors\";\nimport CommentsList from \"./comments/CommentsList\";\nimport PostEdit from \"./posts/PostEdit\";\nimport UserList from \"./users/UserList\";\nimport UserDetails from \"./users/UserDetails\";\nimport CommentCard from \"./comments/CommentCard\";\nimport PostLikes from \"./posts/PostLikes\";\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n\n  return (\n    <ErrorsProvider>\n      <UserProvider setLoading={setLoading}>\n        <PostProvider>\n          <Navbar />\n          <Errors />\n          {\n            loading ? <h1>Loading...</h1> :\n              <Routes>\n                <Route path=\"/\" element={<Home />} />\n                <Route path=\"/me\" element={<Profile loading={loading} />} />\n                <Route path=\"/users/*\" element={<UserList loading={loading} />} />\n                <Route exact path=\"/users/:id\" element={<UserDetails loading={loading} />} />\n                <Route path=\"/posts\" element={<PostList loading={loading} />} />\n                <Route path=\"/posts/new\" element={<PostForm loading={loading} />} />\n                <Route path=\"/posts/:id/edit\" element={<PostEdit loading={loading} />} />\n                <Route path=\"/posts/:id\" element={<PostDetails loading={loading} />} />\n                <Route path=\"/posts/:postId/likes\" element={<PostLikes />} />\n                <Route path=\"/posts/:post_id/comments\" element={<CommentsList />} />\n                <Route path=\"/comments/:id\" element={<CommentCard />} />\n                <Route path=\"/login\" element={<Login loading={loading} />} />\n                <Route path=\"/signup\" element={<Signup loading={loading} />} />\n                <Route path=\"*\" element={<NotFound />} />\n              </Routes>\n          }\n        </PostProvider>\n      </UserProvider>\n    </ErrorsProvider>\n  );\n}\n\nexport default App;\n","import { createRoot } from \"react-dom/client\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <BrowserRouter>\n      <App />\n  </BrowserRouter>\n);\n"],"sourceRoot":""}